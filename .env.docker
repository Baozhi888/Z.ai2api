# Z.ai2api Docker 环境变量配置
# 复制此文件为 .env 并根据需要修改配置

# ===== 基础配置 =====
# Z.ai API 地址
ZAI_API_BASE=https://chat.z.ai

# 服务端口
ZAI_PORT=8089

# 调试模式 (true/false)
ZAI_DEBUG_MODE=false

# ===== 认证配置 =====
# 上游 API 令牌（必需）
# 登录 https://chat.z.ai 获取你的令牌
ZAI_UPSTREAM_TOKEN=your-token-here

# 是否启用匿名令牌模式 (true/false)
# 启用后将尝试自动获取匿名令牌，失败时使用 UPSTREAM_TOKEN
ZAI_ANON_TOKEN_ENABLED=true

# ===== 访问密钥配置 =====
# API 访问密钥（用于保护 API 端点）
# 建议设置一个强密码
ZAI_API_KEY=your-api-key-here

# 是否启用 API 密钥验证 (true/false)
ZAI_API_KEY_ENABLED=true

# ===== 模型配置 =====
# 默认模型名称
ZAI_MODEL_NAME=glm-4.5v

# 思考标签处理模式
# 可选值: think, pure, raw
ZAI_THINK_TAGS_MODE=think

# ===== 性能配置 =====
# 模型列表缓存时间（秒）
ZAI_MODELS_CACHE_TTL=300

# 认证令牌缓存时间（秒）
ZAI_AUTH_TOKEN_CACHE_TTL=600

# 内容处理缓存时间（秒）
ZAI_CONTENT_CACHE_TTL=3600

# 非流式请求超时时间（秒）
ZAI_NON_STREAM_TIMEOUT=30

# ===== 缓存配置 =====
# 缓存默认 TTL（秒）
ZAI_CACHE_DEFAULT_TTL=300

# 缓存最大大小
ZAI_CACHE_MAX_SIZE=1000

# ===== 日志配置 =====
# 日志级别
# 可选值: DEBUG, INFO, WARNING, ERROR, CRITICAL
ZAI_LOG_LEVEL=INFO

# ===== 安全配置 =====
# 允许的 CORS 来源（多个用逗号分隔）
ZAI_CORS_ORIGINS=*

# 请求超时时间（秒）
ZAI_REQUEST_TIMEOUT=60

# 流式响应超时时间（秒）
ZAI_STREAM_TIMEOUT=120

# ===== 高级配置 =====
# 启用性能监控 (true/false)
ZAI_ENABLE_PERFORMANCE_MONITORING=true

# 启用请求追踪 (true/false)
ZAI_ENABLE_REQUEST_TRACING=true

# 最大并发请求数
ZAI_MAX_CONCURRENT_REQUESTS=100