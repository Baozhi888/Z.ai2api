# Z.ai2api 配置文件
# 复制此文件为 .env 并根据需要修改配置
#
# ⚠️ 重要提醒：本项目仅供个人学习和研究使用
# 🚫 禁止用于任何商业目的或商业环境
# 📚 使用者需自行承担使用风险并遵守相关法律法规

# ===== 基础配置 =====
# API 基础URL
ZAI_API_BASE=https://chat.z.ai

# 服务端口
ZAI_PORT=8089

# 调试模式 (true/false)
ZAI_DEBUG_MODE=true

# ===== 认证配置 =====
# 上游API令牌
# 如果 ANON_TOKEN_ENABLED 为 true，此令牌将作为备用
ZAI_UPSTREAM_TOKEN=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjMxNmJjYjQ4LWZmMmYtNGExNS04NTNkLWYyYTI5YjY3ZmYwZiIsImVtYWlsIjoiR3Vlc3QtMTc1NTg0ODU4ODc4OEBndWVzdC5jb20ifQ.PktllDySS3trlyuFpTeIZf-7hl8Qu1qYF3BxjgIul0BrNux2nX9hVzIjthLXKMWAf9V0qM8Vm_iyDqkjPGsaiQ

# 是否启用匿名令牌模式 (true/false)
# 启用后将尝试自动获取匿名令牌，失败时使用 UPSTREAM_TOKEN
ZAI_ANON_TOKEN_ENABLED=true

# ===== 模型配置 =====
# 默认模型名称
ZAI_MODEL_NAME=glm-4.5v

# 思考标签处理模式
# 可选值: think, pure, raw
ZAI_THINK_TAGS_MODE=think

# ===== 性能配置 =====
# 模型列表缓存时间（秒）
ZAI_MODELS_CACHE_TTL=300

# 认证令牌缓存时间（秒）
ZAI_AUTH_TOKEN_CACHE_TTL=600

# 内容处理缓存时间（秒）
ZAI_CONTENT_CACHE_TTL=3600

# ===== 缓存配置 =====
# 缓存默认TTL（秒）
ZAI_CACHE_DEFAULT_TTL=300

# 缓存最大大小
ZAI_CACHE_MAX_SIZE=1000

# ===== 日志配置 =====
# 日志级别
# 可选值: DEBUG, INFO, WARNING, ERROR, CRITICAL
ZAI_LOG_LEVEL=INFO

# 日志格式
ZAI_LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ===== 安全配置 =====
# 允许的CORS来源（多个用逗号分隔）
ZAI_CORS_ORIGINS=*

# 请求超时时间（秒）
ZAI_REQUEST_TIMEOUT=60

# 流式响应超时时间（秒）
ZAI_STREAM_TIMEOUT=120

# 非流式请求超时时间（秒，用于连通性测试）
# 建议设置为 30 秒以避免超时问题
ZAI_NON_STREAM_TIMEOUT=30

# 多模态请求超时时间（秒，图片处理需要更长时间）
# 建议设置为 300 秒（5分钟）以处理大图片
ZAI_MULTIMODAL_TIMEOUT=300

# ===== 访问密钥配置 =====
# API访问密钥（用于保护API端点）
# ZAI_API_KEY=

# 是否启用API密钥验证 (true/false)
ZAI_API_KEY_ENABLED=false

# ===== Anthropic API 配置 =====
# Anthropic API 密钥（用于 /v1/messages 端点）
# 如果不设置，将使用 ZAI_API_KEY 或不验证
# ZAI_ANTHROPIC_API_KEY=your-anthropic-api-key

# ===== 高级配置 =====
# 启用性能监控 (true/false)
ZAI_ENABLE_PERFORMANCE_MONITORING=true

# 启用请求追踪 (true/false)
ZAI_ENABLE_REQUEST_TRACING=true

# 最大并发请求数
ZAI_MAX_CONCURRENT_REQUESTS=100

# ===== 开发配置 =====
# 自动重载 (仅开发环境使用)
ZAI_AUTO_RELOAD=false

# 显示详细错误信息
ZAI_SHOW_ERRORS_DETAIL=true